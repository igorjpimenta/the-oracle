# Redis Stack configuration for single container deployment
bind 0.0.0.0
port 6379
timeout 0
tcp-keepalive 300

# Persistence - simplified for clean startup
save 900 1
save 300 10
save 60 10000

# Logging
loglevel notice
logfile /var/log/redis/redis-server.log

# Directory for data
dir /var/lib/redis-stack

# Memory management
maxmemory-policy allkeys-lru

# Disable protected mode for local container access
protected-mode no

# Disable AOF initially to avoid compatibility issues
appendonly yes

# Authentication - set password if REDIS_PASSWORD environment variable is provided
# requirepass will be handled by the docker container startup

# Redis Stack modules are automatically loaded by redis-stack-server
